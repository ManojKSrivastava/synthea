<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SYNTHEA: org.mitre.synthea.modules.covid.C19VaccineAgeDistributions Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SYNTHEA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>org</b></li><li class="navelem"><b>mitre</b></li><li class="navelem"><b>synthea</b></li><li class="navelem"><b>modules</b></li><li class="navelem"><b>covid</b></li><li class="navelem"><a class="el" href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html">C19VaccineAgeDistributions</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.mitre.synthea.modules.covid.C19VaccineAgeDistributions Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class parses the CSV file that is created by calling the CDC API for COVID-19 vaccination information.  
 <a href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for org.mitre.synthea.modules.covid.C19VaccineAgeDistributions:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions__coll__graph.png" border="0" usemap="#aorg_8mitre_8synthea_8modules_8covid_8C19VaccineAgeDistributions_coll__map" alt="Collaboration graph"/></div>
<map name="aorg_8mitre_8synthea_8modules_8covid_8C19VaccineAgeDistributions_coll__map" id="aorg_8mitre_8synthea_8modules_8covid_8C19VaccineAgeDistributions_coll__map">
<area shape="rect" title="This class parses the CSV file that is created by calling the CDC API for COVID&#45;19 vaccination inform..." alt="" coords="428,173,669,215"/>
<area shape="rect" title=" " alt="" coords="5,5,204,76"/>
<area shape="rect" title=" " alt="" coords="21,100,189,141"/>
<area shape="rect" title=" " alt="" coords="21,166,189,222"/>
<area shape="rect" title=" " alt="" coords="61,246,148,273"/>
<area shape="rect" title=" " alt="" coords="29,297,180,323"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>AgeRange</b></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Representation of an age range in years with logic for parsing the format used by the CDC API. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab5c31b5949c3cb6eb72405d4251b9ad7"><td class="memItemLeft" align="right" valign="top"><a id="ab5c31b5949c3cb6eb72405d4251b9ad7"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#ab5c31b5949c3cb6eb72405d4251b9ad7">initialize</a> ()</td></tr>
<tr class="memdesc:ab5c31b5949c3cb6eb72405d4251b9ad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run all methods needed to interact with the methods to select shot time or shot chance. <br /></td></tr>
<tr class="separator:ab5c31b5949c3cb6eb72405d4251b9ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9106483ff4128e4be8df56ebe97d6b4b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#a9106483ff4128e4be8df56ebe97d6b4b">loadRawDistribution</a> ()</td></tr>
<tr class="memdesc:a9106483ff4128e4be8df56ebe97d6b4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads in the CSV file.  <a href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#a9106483ff4128e4be8df56ebe97d6b4b">More...</a><br /></td></tr>
<tr class="separator:a9106483ff4128e4be8df56ebe97d6b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e1d9581fc86f8d3ec372e228ca1a74"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#a16e1d9581fc86f8d3ec372e228ca1a74">populateDistributions</a> ()</td></tr>
<tr class="memdesc:a16e1d9581fc86f8d3ec372e228ca1a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes the raw distribution information into the EnumeratedDistributions that will be used to select the date of vaccination administration.  <a href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#a16e1d9581fc86f8d3ec372e228ca1a74">More...</a><br /></td></tr>
<tr class="separator:a16e1d9581fc86f8d3ec372e228ca1a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abad5d84f0d8d32fa3d894bae4da00298"><td class="memItemLeft" align="right" valign="top"><a id="abad5d84f0d8d32fa3d894bae4da00298"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#abad5d84f0d8d32fa3d894bae4da00298">loadShotProbabilitiesByAge</a> ()</td></tr>
<tr class="memdesc:abad5d84f0d8d32fa3d894bae4da00298"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the JSON file that has a map of age ranges to percentage of that age range that has been vaccinated. <br /></td></tr>
<tr class="separator:abad5d84f0d8d32fa3d894bae4da00298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78ad998216d23119987d5cc89dcdc5c"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#ae78ad998216d23119987d5cc89dcdc5c">selectShotTime</a> (<a class="el" href="classorg_1_1mitre_1_1synthea_1_1world_1_1agents_1_1Person.html">Person</a> person, long time)</td></tr>
<tr class="memdesc:ae78ad998216d23119987d5cc89dcdc5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects a time for an individual to get the COVID-19 vaccine based on their age and historical distributions of vaccine administration based on age.  <a href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#ae78ad998216d23119987d5cc89dcdc5c">More...</a><br /></td></tr>
<tr class="separator:ae78ad998216d23119987d5cc89dcdc5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b286d395f83f9c943ecd20ed0760980"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#a2b286d395f83f9c943ecd20ed0760980">chanceOfGettingShot</a> (<a class="el" href="classorg_1_1mitre_1_1synthea_1_1world_1_1agents_1_1Person.html">Person</a> person, long time)</td></tr>
<tr class="memdesc:a2b286d395f83f9c943ecd20ed0760980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the likelihood that an individual will get a COVID-19 vaccine based on their age.  <a href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#a2b286d395f83f9c943ecd20ed0760980">More...</a><br /></td></tr>
<tr class="separator:a2b286d395f83f9c943ecd20ed0760980"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a232197eddad4dd27fcc8f241f61cf2f3"><td class="memItemLeft" align="right" valign="top"><a id="a232197eddad4dd27fcc8f241f61cf2f3"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>DOSE_RATES_FILE</b> = &quot;covid_dose_rates.csv&quot;</td></tr>
<tr class="separator:a232197eddad4dd27fcc8f241f61cf2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5de4510e5937fb98fba30078a6c1c21"><td class="memItemLeft" align="right" valign="top"><a id="ac5de4510e5937fb98fba30078a6c1c21"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>FIRST_SHOT_PROBS_FILE</b> = &quot;covid_first_shot_percentage_by_age.json&quot;</td></tr>
<tr class="separator:ac5de4510e5937fb98fba30078a6c1c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc31a53704f8d070d2e898382cd31cf2"><td class="memItemLeft" align="right" valign="top"><a id="afc31a53704f8d070d2e898382cd31cf2"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>DATE_COLUMN_HEADER</b> = &quot;date&quot;</td></tr>
<tr class="separator:afc31a53704f8d070d2e898382cd31cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9830f70bfdefd0d8a06de90e1353d2"><td class="memItemLeft" align="right" valign="top"><a id="aeb9830f70bfdefd0d8a06de90e1353d2"></a>
static final LocalDate&#160;</td><td class="memItemRight" valign="bottom"><b>EXPAND_AGE_TO_TWELVE</b> = LocalDate.of(2021, 5, 10)</td></tr>
<tr class="separator:aeb9830f70bfdefd0d8a06de90e1353d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c0c10eb8d5598bded4cef0788fdd17"><td class="memItemLeft" align="right" valign="top"><a id="a38c0c10eb8d5598bded4cef0788fdd17"></a>
static final DateTimeFormatter&#160;</td><td class="memItemRight" valign="bottom"><b>CSV_DATE_FORMAT</b> = DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;)</td></tr>
<tr class="separator:a38c0c10eb8d5598bded4cef0788fdd17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9cc4cd105b6ee8298b7e6a5f39c7cb4"><td class="memItemLeft" align="right" valign="top"><a id="ac9cc4cd105b6ee8298b7e6a5f39c7cb4"></a>
static final HashMap&lt; AgeRange, List&lt; Pair&lt; String, Integer &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>rawDistributions</b> = new HashMap&lt;&gt;()</td></tr>
<tr class="separator:ac9cc4cd105b6ee8298b7e6a5f39c7cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21cc45f7b43b40125cc592d7055b8964"><td class="memItemLeft" align="right" valign="top"><a id="a21cc45f7b43b40125cc592d7055b8964"></a>
static final HashMap&lt; AgeRange, <a class="el" href="classorg_1_1mitre_1_1synthea_1_1helpers_1_1SyncedEnumeratedDistro.html">SyncedEnumeratedDistro</a>&lt; String &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>distributions</b> = new HashMap&lt;&gt;()</td></tr>
<tr class="separator:a21cc45f7b43b40125cc592d7055b8964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d224961c7a10b135bc31b104f960d25"><td class="memItemLeft" align="right" valign="top"><a id="a5d224961c7a10b135bc31b104f960d25"></a>
static final HashMap&lt; AgeRange, Double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>firstShotProbByAge</b> = new HashMap&lt;&gt;()</td></tr>
<tr class="separator:a5d224961c7a10b135bc31b104f960d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class parses the CSV file that is created by calling the CDC API for COVID-19 vaccination information. </p>
<p>The API can be found at: </p>
<p><a href="https://data.cdc.gov/resource/km4m-vcsb">https://data.cdc.gov/resource/km4m-vcsb</a> </p>
<p>The number of doses given in a day is used to select a date for when an individual in the simulation will get their vaccine. EnumeratedDistributions are created for each age group, with the days weighted by the number of doses administered on that day. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2b286d395f83f9c943ecd20ed0760980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b286d395f83f9c943ecd20ed0760980">&#9670;&nbsp;</a></span>chanceOfGettingShot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double org.mitre.synthea.modules.covid.C19VaccineAgeDistributions.chanceOfGettingShot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1mitre_1_1synthea_1_1world_1_1agents_1_1Person.html">Person</a>&#160;</td>
          <td class="paramname"><em>person</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines the likelihood that an individual will get a COVID-19 vaccine based on their age. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">person</td><td>The person to use </td></tr>
    <tr><td class="paramname">time</td><td>Time in the simulation used for age calculation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value between 0 - 1 representing the chance the person will get vaccinated </dd></dl>

</div>
</div>
<a id="a9106483ff4128e4be8df56ebe97d6b4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9106483ff4128e4be8df56ebe97d6b4b">&#9670;&nbsp;</a></span>loadRawDistribution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void org.mitre.synthea.modules.covid.C19VaccineAgeDistributions.loadRawDistribution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads in the CSV file. </p>
<p>Creating a List for each AgeRange, where the items are Pairs of the String representation of the date and an Integer counting the number of doses administered. </p>

</div>
</div>
<a id="a16e1d9581fc86f8d3ec372e228ca1a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16e1d9581fc86f8d3ec372e228ca1a74">&#9670;&nbsp;</a></span>populateDistributions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void org.mitre.synthea.modules.covid.C19VaccineAgeDistributions.populateDistributions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes the raw distribution information into the EnumeratedDistributions that will be used to select the date of vaccination administration. </p>
<p>Must be called after <a class="el" href="classorg_1_1mitre_1_1synthea_1_1modules_1_1covid_1_1C19VaccineAgeDistributions.html#a9106483ff4128e4be8df56ebe97d6b4b" title="Reads in the CSV file.">loadRawDistribution()</a>. </p>

</div>
</div>
<a id="ae78ad998216d23119987d5cc89dcdc5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae78ad998216d23119987d5cc89dcdc5c">&#9670;&nbsp;</a></span>selectShotTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long org.mitre.synthea.modules.covid.C19VaccineAgeDistributions.selectShotTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1mitre_1_1synthea_1_1world_1_1agents_1_1Person.html">Person</a>&#160;</td>
          <td class="paramname"><em>person</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Selects a time for an individual to get the COVID-19 vaccine based on their age and historical distributions of vaccine administration based on age. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">person</td><td>The person to use </td></tr>
    <tr><td class="paramname">time</td><td>Time in the simulation used for age calculation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A time in the simulation when the person should get their first (only?) shot </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/java/org/mitre/synthea/modules/covid/C19VaccineAgeDistributions.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
